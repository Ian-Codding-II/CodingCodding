---
layout: default
title: Search
---

<h2>Search</h2>
<input type="text" id="search-box" placeholder="Search..." />
<ul id="results"></ul>

<script src="https://cdn.jsdelivr.net/npm/lunr/lunr.min.js"></script>
<script>
  fetch('/CodingCodding/search.json')
    .then(res => res.json())
    .then(pages => {
      const idx = lunr(function () {
        this.ref('url');
        this.field('title');
        this.field('content');

        pages.forEach(page => this.add(page));
      });

      const searchBox = document.getElementById('search-box');
      const resultList = document.getElementById('results');

      searchBox.addEventListener('input', e => {
        const query = e.target.value.trim();
        if (!query) {
          resultList.innerHTML = '';
          return;
        }
        const results = idx.search(query);
        resultList.innerHTML = '';
        results.forEach(result => {
          const page = pages.find(p => p.url === result.ref);
          if (page) {
            const li = document.createElement('li');
            li.innerHTML = `<a href="${page.url}">${page.title}</a>`;
            resultList.appendChild(li);
          }
        });
      });
    })
    .catch(err => console.error('Failed to load search index:', err));
</script>
